{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","wildcard-store/wildcard-store.min.js","webpack:///webpack/bootstrap 778ea485ceeab228635c?b6be","webpack:///./src/Store.js?6192","webpack:///./src/Record.js?b800"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","Store","settings","records","keys","getOrCreateKey","key","prefix","DEFAULT_SETTINGS","push","Record","match","a","b","prototype","constructor","get","pattern","fullKey","keyRecords","record","doKeysMatch","matchedValues","i","length","substr","j","active","use","splice","del","put","value","uses","keyIndex","arguments","is","undefined","indexOf","Infinity","Error"],"mappings":"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","file":"wildcard-store.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"wildcard-store\"] = factory();\n\telse\n\t\troot[\"wildcard-store\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"wildcard-store\"] = factory();\n\telse\n\t\troot[\"wildcard-store\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Record = __webpack_require__(1);\n\t\n\t\n\tvar DEFAULT_SETTINGS = {\n\t  prefix: '~',\n\t  match: function areKeysEqual(a, b) {\n\t    return a === b;\n\t  }\n\t};\n\t\n\t\n\tfunction Store(settings) {\n\t  this.records = {};\n\t  this.keys = [];\n\t  this.settings = settings || {};\n\t}\n\t\n\tmodule.exports = Store;\n\tStore.prototype.constructor = Store;\n\t\n\t\n\tStore.prototype.get = function get(pattern) {\n\t  var prefix = this.settings.prefix || DEFAULT_SETTINGS.prefix;\n\t  var doKeysMatch = this.settings.match || DEFAULT_SETTINGS.match;\n\t  var keys = this.keys;\n\t  var matchedValues = [];\n\t  var fullKey, key, keyRecords, record;\n\t\n\t  for (var i = 0; i < keys.length; i++) {\n\t    fullKey = keys[i];\n\t    key = fullKey.substr(prefix.length);\n\t\n\t    if (doKeysMatch(key, pattern)) {\n\t      keyRecords = this.records[fullKey];\n\t\n\t      for (var j = 0; j < keyRecords.length; j++) {\n\t        record = keyRecords[j];\n\t\n\t        if (record.active) {\n\t          matchedValues.push(record.use());\n\t        }\n\t\n\t        if (!record.active) {\n\t          keyRecords.splice(j, 1);\n\t          j--;\n\t        }\n\t      }\n\t\n\t      if (keyRecords.length === 0) {\n\t        this.del(key.substr(1));\n\t      }\n\t    }\n\t  }\n\t\n\t  return matchedValues;\n\t};\n\t\n\t\n\tStore.prototype.put = function put(key, value, uses) {\n\t  var record = new Record(value, uses);\n\t  getOrCreateKey.call(this, key).push(record);\n\t};\n\t\n\t\n\tStore.prototype.del = function del(key, value) {\n\t  var prefix = this.settings.prefix || DEFAULT_SETTINGS.prefix;\n\t  key = prefix + key;\n\t\n\t  var keyRecords = this.records[key];\n\t  var keyIndex;\n\t\n\t  if (!keyRecords) {\n\t    return;\n\t  }\n\t\n\t  if (arguments.length === 2) {\n\t    for (var i = 0; i < keyRecords.length; i++) {\n\t      if (keyRecords[i].is(value)) {\n\t        keyRecords[i].active = false;\n\t        keyRecords.splice(i, 1);\n\t        i--;\n\t      }\n\t    }\n\t  }\n\t\n\t  if (arguments.length === 1 || keyRecords.length === 0) {\n\t    this.records[key] = undefined;\n\t    keyIndex = this.keys.indexOf(key);\n\t\n\t    if (keyIndex !== -1) {\n\t      this.keys.splice(keyIndex, 1);\n\t    }\n\t  }\n\t};\n\t\n\t\n\tfunction getOrCreateKey(key) {\n\t  var prefix = this.settings.prefix || DEFAULT_SETTINGS.prefix;\n\t  key = prefix + key;\n\t  var records = this.records[key];\n\t\n\t  if (!records) {\n\t    this.keys.push(key);\n\t    records = this.records[key] = [];\n\t  }\n\t\n\t  return records;\n\t}\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t\n\tfunction Record(value, uses) {\n\t  this.active = true;\n\t  this.uses = uses || Infinity;\n\t  this.value = value;\n\t}\n\t\n\tmodule.exports = Record;\n\tRecord.prototype.constructor = Record;\n\t\n\t\n\tRecord.prototype.is = function is(record) {\n\t  return (record === this || record === this.value);\n\t};\n\t\n\tRecord.prototype.use = function use() {\n\t  if (!this.active || this.uses < 1) {\n\t    throw new Error('Can\\'t use an inactive record');\n\t  }\n\t\n\t  this.uses--;\n\t  this.active = (this.uses >= 1);\n\t\n\t  return this.value;\n\t};\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// wildcard-store.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 778ea485ceeab228635c","'use strict';\n\nvar Record = require('./Record');\n\n\nvar DEFAULT_SETTINGS = {\n  prefix: '~',\n  match: function areKeysEqual(a, b) {\n    return a === b;\n  }\n};\n\n\nfunction Store(settings) {\n  this.records = {};\n  this.keys = [];\n  this.settings = settings || {};\n}\n\nmodule.exports = Store;\nStore.prototype.constructor = Store;\n\n\nStore.prototype.get = function get(pattern) {\n  var prefix = this.settings.prefix || DEFAULT_SETTINGS.prefix;\n  var doKeysMatch = this.settings.match || DEFAULT_SETTINGS.match;\n  var keys = this.keys;\n  var matchedValues = [];\n  var fullKey, key, keyRecords, record;\n\n  for (var i = 0; i < keys.length; i++) {\n    fullKey = keys[i];\n    key = fullKey.substr(prefix.length);\n\n    if (doKeysMatch(key, pattern)) {\n      keyRecords = this.records[fullKey];\n\n      for (var j = 0; j < keyRecords.length; j++) {\n        record = keyRecords[j];\n\n        if (record.active) {\n          matchedValues.push(record.use());\n        }\n\n        if (!record.active) {\n          keyRecords.splice(j, 1);\n          j--;\n        }\n      }\n\n      if (keyRecords.length === 0) {\n        this.del(key.substr(1));\n      }\n    }\n  }\n\n  return matchedValues;\n};\n\n\nStore.prototype.put = function put(key, value, uses) {\n  var record = new Record(value, uses);\n  getOrCreateKey.call(this, key).push(record);\n};\n\n\nStore.prototype.del = function del(key, value) {\n  var prefix = this.settings.prefix || DEFAULT_SETTINGS.prefix;\n  key = prefix + key;\n\n  var keyRecords = this.records[key];\n  var keyIndex;\n\n  if (!keyRecords) {\n    return;\n  }\n\n  if (arguments.length === 2) {\n    for (var i = 0; i < keyRecords.length; i++) {\n      if (keyRecords[i].is(value)) {\n        keyRecords[i].active = false;\n        keyRecords.splice(i, 1);\n        i--;\n      }\n    }\n  }\n\n  if (arguments.length === 1 || keyRecords.length === 0) {\n    this.records[key] = undefined;\n    keyIndex = this.keys.indexOf(key);\n\n    if (keyIndex !== -1) {\n      this.keys.splice(keyIndex, 1);\n    }\n  }\n};\n\n\nfunction getOrCreateKey(key) {\n  var prefix = this.settings.prefix || DEFAULT_SETTINGS.prefix;\n  key = prefix + key;\n  var records = this.records[key];\n\n  if (!records) {\n    this.keys.push(key);\n    records = this.records[key] = [];\n  }\n\n  return records;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Store.js\n// module id = 0\n// module chunks = 0 1","'use strict';\n\n\nfunction Record(value, uses) {\n  this.active = true;\n  this.uses = uses || Infinity;\n  this.value = value;\n}\n\nmodule.exports = Record;\nRecord.prototype.constructor = Record;\n\n\nRecord.prototype.is = function is(record) {\n  return (record === this || record === this.value);\n};\n\nRecord.prototype.use = function use() {\n  if (!this.active || this.uses < 1) {\n    throw new Error('Can\\'t use an inactive record');\n  }\n\n  this.uses--;\n  this.active = (this.uses >= 1);\n\n  return this.value;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Record.js\n// module id = 1\n// module chunks = 0 1"],"sourceRoot":""}