!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["wildcard-store"]=e():t["wildcard-store"]=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){this._handlers={},this._paths=[],this._delimiter=t||"."}var i=r(1),o="~";t.exports=n,n.prototype.constructor=n,n.prototype.find=function(t){var e,r,n,s=this._paths,h=[],a=t.split(this._delimiter);this.validatePath(a);for(var l=0;l<s.length;l++)if(e=s[l],r=e.substr(o.length).split(this._delimiter),e===t||i(a,r)){n=this._handlers[e];for(var p=0;p<n.length;p++)n[p].active?h.push(n[p]):(n.splice(p,1),p--);0===n.length&&this.remove(e.substr(1))}return h},n.prototype.put=function(t,e){this.getOrCreatePath(t).push(e)},n.prototype.remove=function(t,e){t=o+t;var r,n=this._handlers[t];if(n){if(e)for(var i=0;i<n.length;i++)n[i].is(e)&&(n[i].active=!1,n.splice(i,1),i--);e&&0!==n.length||(this._handlers[t]=void 0,r=this._paths.indexOf(t),r!==-1&&this._paths.splice(r,1))}},n.prototype.getOrCreatePath=function(t){var e=t.split(this._delimiter);this.validatePath(e),t=o+t;var r=this._handlers[t];return r||(this._paths.push(t),r=this._handlers[t]=[]),r},n.prototype.validatePath=function(t){for(var e=0,r=0;r<t.length;r++){if(0===t[r].length||t[r].search(/^\s*$/)!==-1)throw new Error("Path cannot contain empty or whitespace-only fragments");if(("*"===t[r]||"**"===t[r])&&(e++,e>1))throw new Error("Path cannot contain more than one wildcard")}}},function(t,e){"use strict";function r(t,e,r){for(var n=0;n<r;n++){if("**"===t[n]||"**"===e[n])return!0;if(t[n]!==e[n]&&"*"!==t[n]&&"*"!==e[n])return!1}return r===t.length&&r===e.length}t.exports=function(t,e){if("**"===t[0]&&"**"===e[e.length]||"**"===e[0]&&"**"===t[t.length])return!0;var n=Math.min(t.length,e.length);if(!r(t,e,n))return!1;for(var i=new Array(n),o=new Array(n),s=0;s<n;s++)i[s]=t[t.length-s-1],o[s]=e[e.length-s-1];return!!r(i,o,n)}}])});
//# sourceMappingURL=wildcard-store.min.js.map